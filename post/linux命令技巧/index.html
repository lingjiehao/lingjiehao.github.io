<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href="https://fonts.googleapis.com/css?family=Ubuntu" rel=stylesheet><title>Linux命令技巧</title><link rel=stylesheet href=/css/stylesheet.css></head><body><section id=page-title><h1><a href=/>Aliens</a></h1></section><section class=blog-post><h1>Linux命令技巧</h1><div class=blog-post-subheader>April 3, 2021</div><div class=blog-post-content><h2 id=tar>tar</h2><h3 id=1压缩文件夹时忽略git>1.压缩文件夹时忽略.git</h3><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>tar --exclude-vcs -zcvf foo.tar.gz ./FOLDER_NAME
</code></pre></div><p><a href=https://unix.stackexchange.com/questions/18657/tar-a-folder-without-git-files>https://unix.stackexchange.com/questions/18657/tar-a-folder-without-git-files</a></p><h3 id=2多线程压缩>2.多线程压缩</h3><p>使用pigz实现多线程压缩</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>tar --use-compress-program<span style=color:#f92672>=</span><span style=color:#d88200>&#34;pigz --best --recursive&#34;</span> -cf archive.tar.gz YourData

<span style=color:#75715e># 显示压缩进度</span>
tar --use-compress-program<span style=color:#f92672>=</span><span style=color:#d88200>&#34;pigz --best --recursive | pv&#34;</span> -cf archive.tar.gz YourData
</code></pre></div><p><a href=https://stackoverflow.com/questions/36917882/how-to-use-pigz-with-tar>https://stackoverflow.com/questions/36917882/how-to-use-pigz-with-tar</a></p></div></section></body></html>